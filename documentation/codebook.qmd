---
title: Codebook
format:
  html:
    toc: true
    toc-depth: 5
    page-layout: full
    smooth-scroll: true
---

# Core module

## Basic Psychological Needs 

### Autonomy

```{r echo = FALSE, message=FALSE}

library(tidyverse)
library(flextable)

codebook <- tribble(
  ~variable,  ~label,               ~item_short,                                                                               ~response_scale,                         ~response_min, ~response_max, ~type,     ~missing, ~notes,
  "auto_1",   "Autonomy item 1",    "I feel free to make my own choices",               "1 = strongly disagree … 5 = strongly agree", 1L, 5L,  "integer", "-99",    "Positively worded.",
  "auto_2",   "Autonomy item 2",    "I feel pressured to do things I do not want",     "1 = strongly disagree … 5 = strongly agree", 1L, 5L,  "integer", "-99",    "Reverse-coded for scale score.",
  "auto_3",   "Autonomy item 3",    "I can decide for myself how to live my life",      "1 = strongly disagree … 5 = strongly agree", 1L, 5L,  "integer", "-99",    "Positively worded.",
  "auto_mean","Autonomy mean score","Mean of auto_1–auto_3",                           "1–5 (higher = more autonomy satisfaction)", NA,  NA,  "numeric", "-99",    "Min. 2 valid items required."
)


ft <- codebook %>%
  select(
    variable, label, item_short,
   
    response_scale,
    response_min, response_max,
    type, missing, notes
  ) %>%
  flextable() %>%
  set_header_labels(
    variable       = "Variable name",
    label          = "Label",
    item_short     = "Item wording (short)",
    response_scale = "Response scale (text)",
    response_min   = "Min",
    response_max   = "Max",
    type           = "Type",
    missing        = "Missing codes",
    notes          = "Notes"
  ) %>%
  autofit() %>%
  align(part = "all", align = "left") %>%
  valign(part = "all", valign = "top") %>%
  fontsize(part = "all", size = 9) %>%
  bold(part = "header") %>%
  theme_booktabs() %>%
  add_header_row(
    values = "Please indicate how much you agree with each statement. \n \n In the past week...",
    colwidths = ncol(codebook)
  ) %>%
  bold(i = 1, part = "header") %>%
  merge_h(i = 1, part = "header")

ft
```
